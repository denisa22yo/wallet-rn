(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,689994,e=>{"use strict";var t=e.i(982942);let r=(0,t.queryOptions)({initialData:null,queryKey:["noop-query"],queryFn:()=>null,staleTime:1/0,gcTime:1/0}),s=(0,t.queryOptions)({initialData:{total_count:0},queryKey:["noop-count-query"],queryFn:()=>({total_count:0}),staleTime:1/0,gcTime:1/0});e.s(["disableSuspenseQuery",0,(e,t)=>e?r:t,"noopCountQueryOptions",0,s])},707765,e=>{"use strict";var t=e.i(950276),r=e.i(921007);function s(e){return e}function n(e){return"success"===e.state.status}function i(e,n,i){if("object"!=typeof n||null===n)return;let u=e.getMutationCache(),l=e.getQueryCache(),a=i?.defaultOptions?.deserializeData??e.getDefaultOptions().hydrate?.deserializeData??s,o=n.mutations||[],c=n.queries||[];o.forEach(({state:t,...r})=>{u.build(e,{...e.getDefaultOptions().hydrate?.mutations,...i?.defaultOptions?.mutations,...r},t)}),c.forEach(({queryKey:s,state:n,queryHash:u,meta:o,promise:c,dehydratedAt:d})=>{let p=c?(0,t.tryResolveSync)(c):void 0,h=void 0===n.data?p?.data:n.data,f=void 0===h?h:a(h),m=l.get(u),y=m?.state.status==="pending",g=m?.state.fetchStatus==="fetching";if(m){let e=p&&void 0!==d&&d>m.state.dataUpdatedAt;if(n.dataUpdatedAt>m.state.dataUpdatedAt||e){let{fetchStatus:e,...t}=n;m.setState({...t,data:f})}}else m=l.build(e,{...e.getDefaultOptions().hydrate?.queries,...i?.defaultOptions?.queries,queryKey:s,queryHash:u,meta:o},{...n,data:f,fetchStatus:"idle",status:void 0!==f?"success":n.status});c&&!y&&!g&&(void 0===d||d>m.state.dataUpdatedAt)&&m.fetch(void 0,{initialPromise:Promise.resolve(c).then(a)}).catch(r.noop)})}e.s(["defaultShouldDehydrateQuery",()=>n,"hydrate",()=>i])},654501,e=>{"use strict";var t=e.i(184260),r=e.i(707765),s=e.i(237206),n=({children:e,options:n={},state:i,queryClient:u})=>{let l=(0,s.useQueryClient)(u),a=t.useRef(n);t.useEffect(()=>{a.current=n});let o=t.useMemo(()=>{if(i){if("object"!=typeof i)return;let e=l.getQueryCache(),t=i.queries||[],s=[],n=[];for(let r of t){let t=e.get(r.queryHash);t?(r.state.dataUpdatedAt>t.state.dataUpdatedAt||r.promise&&"pending"!==t.state.status&&"fetching"!==t.state.fetchStatus&&void 0!==r.dehydratedAt&&r.dehydratedAt>t.state.dataUpdatedAt)&&n.push(r):s.push(r)}if(s.length>0&&(0,r.hydrate)(l,{queries:s},a.current),n.length>0)return n}},[l,i]);return t.useEffect(()=>{o&&(0,r.hydrate)(l,{queries:o},a.current)},[l,o]),e};e.s(["HydrationBoundary",()=>n])},662091,e=>{"use strict";var t=e.i(184260),r=e.i(921007),s=e.i(549651),n=e.i(237206),i=e.i(148724),u=e.i(169719),l=e.i(738707),a=e.i(319704);function o(e,o,c){let d=(0,l.useIsRestoring)(),p=(0,i.useQueryErrorResetBoundary)(),h=(0,n.useQueryClient)(c),f=h.defaultQueryOptions(e);h.getDefaultOptions().queries?._experimental_beforeQuery?.(f),f._optimisticResults=d?"isRestoring":"optimistic",(0,a.ensureSuspenseTimers)(f),(0,u.ensurePreventErrorBoundaryRetry)(f,p),(0,u.useClearResetErrorBoundary)(p);let m=!h.getQueryCache().get(f.queryHash),[y]=t.useState(()=>new o(h,f)),g=y.getOptimisticResult(f),v=!d&&!1!==e.subscribed;if(t.useSyncExternalStore(t.useCallback(e=>{let t=v?y.subscribe(s.notifyManager.batchCalls(e)):r.noop;return y.updateResult(),t},[y,v]),()=>y.getCurrentResult(),()=>y.getCurrentResult()),t.useEffect(()=>{y.setOptions(f)},[f,y]),(0,a.shouldSuspend)(f,g))throw(0,a.fetchOptimistic)(f,y,p);if((0,u.getHasError)({result:g,errorResetBoundary:p,throwOnError:f.throwOnError,query:h.getQueryCache().get(f.queryHash),suspense:f.suspense}))throw g.error;if(h.getDefaultOptions().queries?._experimental_afterQuery?.(f,g),f.experimental_prefetchInRender&&!r.isServer&&(0,a.willFetch)(g,d)){let e=m?(0,a.fetchOptimistic)(f,y,p):h.getQueryCache().get(f.queryHash)?.promise;e?.catch(r.noop).finally(()=>{y.updateResult()})}return f.notifyOnChangeProps?g:y.trackResult(g)}e.s(["useBaseQuery",()=>o])},364890,e=>{"use strict";var t=e.i(374274),r=e.i(662091),s=e.i(319704);function n(e,n){return(0,r.useBaseQuery)({...e,enabled:!0,suspense:!0,throwOnError:s.defaultThrowOnError,placeholderData:void 0},t.QueryObserver,n)}e.s(["useSuspenseQuery",()=>n])},412939,e=>{"use strict";var t=e.i(683471);function r(){let e=(0,t.useParams)();if(!e.applicationId||!e.instanceId)throw Error("This hook should only be used within `/apps/:applicationId/instances/:instanceId/*` pages");return e}e.s(["useTypedParams",()=>r])},538040,e=>{"use strict";function t(e,t){t&&t.forEach(t=>{if(null===t.value||!s(t))return;let r=t.apiParam||t.param;if("date"===t.type){let{range:s,operator:n}=t.value,i=`${r}_after`,u=`${r}_before`;"between"===n&&(e.set(i,String(s[0])),e.set(u,String(s[1]+864e5))),"on"===n&&(e.set(i,String(s[0])),e.set(u,String(s[0]+864e5))),"after"===n&&e.set(i,String(s[0])),"before"===n&&e.set(u,String(s[0])),"on or after"===n&&e.set(i,String(s[0]));return}if("boolean"===t.type)return void e.set(r,String(t.value));if("select"===t.type)return void e.set(r,t.value);if("multi-select"===t.type||"checkbox"===t.type){for(let s of t.value)e.append(r,s);return}if("range"===t.type){void 0!==t.value.min&&null!==t.value.min&&t.value.min!==t.limits.min_min&&e.set(`${r}_min`,String(t.value.min)),void 0!==t.value.max&&null!==t.value.max&&t.value.max!==t.limits.max_max&&e.set(`${r}_max`,String(t.value.max));return}if("text"===t.type)return void e.set(t.apiParam||`${t.param}_query`,t.value)})}function r(e){let t={};return Object.entries(e).forEach(([e,r])=>{"filters"in r?Object.values(r.filters).forEach(e=>{t[e.param]=e}):t[e]=r}),t}function s(e){return!!e&&("boolean"===e.type?null!==e.value:"multi-select"===e.type||"checkbox"===e.type?null!==e.value&&e.value.length>0:"range"===e.type?!!e.value&&(null!==e.value.min||null!==e.value.max)&&(e.value.min!==e.limits.min_min||e.value.max!==e.limits.max_max):!!e.value)}function n(e,t){return Object.values(e.filters).some(e=>s(t.find(t=>t.param===e.param)))}function i(e=[]){return e.reduce((e,t)=>s(t)?e+1:e,0)}e.s(["addFiltersToSearchParams",()=>t,"arrayToQueryFilters",0,(e=[],t)=>{let s,n,i=r(t);return e.reduce((e,{param:t,value:r})=>{if(null===r)return e;let s=i[t];return"date"===s.type?r?{...e,[t]:r.range,[`${t}_operator`]:r.operator}:e:"boolean"===s.type||"multi-select"===s.type||"checkbox"===s.type?{...e,[t]:r}:"range"===s.type?r?{...e,[`${t}_min`]:r.min,[`${t}_max`]:r.max}:e:{...e,[t]:r}},(s=r(t),n={},Object.entries(s).forEach(([e,t])=>{"date"===t.type?(n[e]=null,n[`${e}_operator`]=null):"range"===t.type?(n[`${e}_min`]=null,n[`${e}_max`]=null):n[e]=null}),n))},"countAppliedFilters",()=>i,"getOperatorForDateMode",0,e=>"range"===e?"between":"on","isApplied",()=>s,"isGroupApplied",()=>n,"queryFiltersToArray",0,(e,t)=>{let s=r(t);return Object.entries(e).reduce((t,[r,n])=>{if(null===n)return t;let i=r.replace(/_(min|max)$/,"");if(i.endsWith("_operator"))return t;let u=s[i];if(!u)return t;if("date"===u.type){let r={range:n,operator:e[`${i}_operator`]};return r.range&&t.push({...u,value:r}),t}if("boolean"===u.type||"multi-select"===u.type||"checkbox"===u.type)return t.push({...u,value:n}),t;if("range"===u.type){if(t.some(e=>e.param===i))return t;let r={min:e[`${i}_min`],max:e[`${i}_max`]};return(void 0!==r.min||void 0!==r.max)&&t.push({...u,value:r}),t}return t.push({...u,value:n}),t},[])},"queryKeyFromFilters",0,(e=[])=>e.reduce((e,t)=>null===t.value?e:{...e,[t.param]:t.value},{})])},363143,e=>{"use strict";var t=e.i(73677),r=e.i(521322),s=e.i(927800),n=e.i(70038);function i(e){let i,u,l,a,o,c,d,p,h,f,m,y,g=(0,r.c)(24);g[0]!==e?({icon:i,title:c,description:a,button:u,className:l,...o}=e,g[0]=e,g[1]=i,g[2]=u,g[3]=l,g[4]=a,g[5]=o,g[6]=c):(i=g[1],u=g[2],l=g[3],a=g[4],o=g[5],c=g[6]),g[7]===Symbol.for("react.memo_cache_sentinel")?(d={variant:"secondary"},g[7]=d):d=g[7];let v=d,b=u&&"py-12";return g[8]!==l||g[9]!==b?(p=(0,s.cx)(l,"flex flex-col items-center gap-4 p-10 text-center",b),g[8]=l,g[9]=b,g[10]=p):p=g[10],g[11]!==i?(h="function"==typeof i?(0,t.jsx)("div",{className:"flex size-12 items-center justify-center rounded-md bg-ceramic-gray/4 ring-1 ring-inset ring-ceramic-bg-separator",children:(0,t.jsx)(i,{className:"size-5 text-ceramic-secondary"})}):i,g[11]=i,g[12]=h):h=g[12],g[13]!==a||g[14]!==c?(f=(c||a)&&(0,t.jsxs)("div",{className:"flex flex-col gap-1",children:[c&&(0,t.jsx)("h3",{className:"text-balance text-ceramic-heading-6 text-ceramic-primary",children:c}),a&&(0,t.jsx)("div",{className:"rich-text max-w-[30rem] text-balance text-ceramic-body-2 text-ceramic-secondary",children:a})]}),g[13]=a,g[14]=c,g[15]=f):f=g[15],g[16]!==u?(m=(0,t.jsx)(n.ButtonPropsContext,{value:v,children:u}),g[16]=u,g[17]=m):m=g[17],g[18]!==o||g[19]!==p||g[20]!==h||g[21]!==f||g[22]!==m?(y=(0,t.jsxs)("div",{"data-slot":"empty",...o,className:p,children:[h,f,m]}),g[18]=o,g[19]=p,g[20]=h,g[21]=f,g[22]=m,g[23]=y):y=g[23],y}e.s(["Empty",()=>i])},674426,978774,e=>{"use strict";let t=e=>"object"==typeof e&&e&&"current"in e?e.current:e;e.s(["unwrapRef",0,t],978774);var r=e.i(184260);e.s(["useEventListener",0,(e,s,n)=>{r.default.useEffect(()=>{let r=t(e);return r?.addEventListener(n,s),()=>{r?.removeEventListener(n,s)}},[e,n,s])}],674426)},532615,e=>{"use strict";let t,r;var s=e.i(73677),n=e.i(521322),i=e.i(674426),u=e.i(184260),l=e.i(361979),a=e.i(369710);let o=new WeakMap,c=(e,t,r)=>(s,n)=>n&&n[0]?n[0][e+"Size"]:(0,l.isSVGElement)(s)&&"getBBox"in s?s.getBBox()[t]:s[r],d=c("inline","width","offsetWidth"),p=c("block","height","offsetHeight");function h({target:e,borderBoxSize:t}){o.get(e)?.forEach(r=>{r(e,{get width(){return d(e,t)},get height(){return p(e,t)}})})}function f(e){e.forEach(h)}let m=new Set;function y(e,t){let r,s,i,l,a,o,c=(0,n.c)(14);c[0]!==t?(r=void 0===t?{}:t,c[0]=t,c[1]=r):r=c[1],c[2]!==r?({root:i,...s}=r,c[2]=r,c[3]=s,c[4]=i):(s=c[3],i=c[4]);let[d,p]=(0,u.useState)(void 0);c[5]===Symbol.for("react.memo_cache_sentinel")?(l=e=>{let[t]=e;p(t.isIntersecting)},c[5]=l):l=c[5];let h=(0,u.useEffectEvent)(l);return c[6]!==h||c[7]!==s||c[8]!==e||c[9]!==i?.current?(a=()=>{if(!e.current)return;let t=new IntersectionObserver(h,{root:i?.current,...s});return t.observe(e.current),()=>t.disconnect()},c[6]=h,c[7]=s,c[8]=e,c[9]=i?.current,c[10]=a):a=c[10],c[11]!==e||c[12]!==i?(o=[i,e],c[11]=e,c[12]=i,c[13]=o):o=c[13],(0,u.useEffect)(a,o),d}function g(e){let t,r,i,l,a,o=(0,n.c)(9),c=(0,u.useRef)(null),d=(0,u.useRef)(null);o[0]!==e?(t={root:e},o[0]=e,o[1]=t):t=o[1];let p=y(c,t);o[2]!==e?(r={root:e},o[2]=e,o[3]=r):r=o[3];let h=y(d,r);o[4]===Symbol.for("react.memo_cache_sentinel")?(i={className:"relative size-0",children:(0,s.jsx)("span",{inert:!0,ref:c,className:"absolute start-0 size-[1px] [inset-block-start:0]"}),inert:!0},o[4]=i):i=o[4],o[5]===Symbol.for("react.memo_cache_sentinel")?(l={className:"relative size-0",children:(0,s.jsx)("span",{inert:!0,ref:d,className:"absolute end-0 size-[1px] [inset-block-end:0]"}),inert:!0},o[5]=l):l=o[5];let f=void 0===p?void 0:!p,m=void 0===h?void 0:!h;return o[6]!==f||o[7]!==m?(a={startSentinelProps:i,endSentinelProps:l,isOverflowingStart:f,isOverflowingEnd:m},o[6]=f,o[7]=m,o[8]=a):a=o[8],a}function v(e){var s;let l,c,d,p,h,y,g,v,b,q,O,S=(0,n.c)(7);S[0]===Symbol.for("react.memo_cache_sentinel")?(l={left:void 0,right:void 0,top:void 0,bottom:void 0},S[0]=l):l=S[0];let[w,x]=(0,u.useState)(l);S[1]!==e?(c=()=>{if(!e.current)return;let{scrollLeft:t,scrollWidth:r,clientWidth:s,scrollTop:n,scrollHeight:i,clientHeight:u}=e.current;x({left:t>0,right:t+s<r,top:n>0,bottom:n+u<i})},S[1]=e,S[2]=c):c=S[2];let E=c;return(0,i.useEventListener)(e,E,"scroll"),S[3]===Symbol.for("react.memo_cache_sentinel")?(d={childList:!0,subtree:!0,characterData:!0},S[3]=d):d=S[3],s=d,(v=(0,n.c)(5))[0]!==E||v[1]!==e||v[2]!==s?(y=()=>{if(!e.current)return;let t=new MutationObserver(E);return t.observe(document.body,s),()=>t.disconnect()},g=[E,s,e],v[0]=E,v[1]=e,v[2]=s,v[3]=y,v[4]=g):(y=v[3],g=v[4]),(0,u.useEffect)(y,g),(O=(0,n.c)(4))[0]!==E||O[1]!==e?(b=()=>{if(e.current){var s;let n;return s=e.current,"function"==typeof s?(m.add(s),r||(r=()=>{let e={get width(){return window.innerWidth},get height(){return window.innerHeight}};m.forEach(t=>t(e))},window.addEventListener("resize",r)),()=>{m.delete(s),m.size||"function"!=typeof r||(window.removeEventListener("resize",r),r=void 0)}):(!t&&"u">typeof ResizeObserver&&(t=new ResizeObserver(f)),(n=(0,a.resolveElements)(s)).forEach(e=>{let r=o.get(e);r||(r=new Set,o.set(e,r)),r.add(E),t?.observe(e)}),()=>{n.forEach(e=>{let r=o.get(e);r?.delete(E),r?.size||t?.unobserve(e)})})}},q=[e,E],O[0]=E,O[1]=e,O[2]=b,O[3]=q):(b=O[2],q=O[3]),(0,u.useEffect)(b,q),S[4]!==E?(p=()=>{let e=requestAnimationFrame(E);return()=>cancelAnimationFrame(e)},h=[E],S[4]=E,S[5]=p,S[6]=h):(p=S[5],h=S[6]),(0,u.useEffect)(p,h),w}e.s(["useIsOverflowing",()=>v,"useOverflowSentinels",()=>g],532615)},189201,347036,e=>{"use strict";e.i(829768);var t=e.i(184260);let r=function(){try{let e="nuqs-localStorage-test";if("u"<typeof localStorage)return!1;localStorage.setItem(e,e);let t=localStorage.getItem(e)===e;return localStorage.removeItem(e),t&&(localStorage.getItem("debug")||"").includes("nuqs")}catch{return!1}}();function s(e,...t){if(!r)return;let n=function(e,...t){return e.replace(/%[sfdO]/g,e=>{let r=t.shift();return"%O"===e&&r?JSON.stringify(r).replace(/"([^"]+)":/g,"$1:"):String(r)})}(e,...t);performance.mark(n);try{console.log(e,...t)}catch{console.log(n)}}function n(e,...t){r&&console.warn(e,...t)}let i={303:"Multiple adapter contexts detected. This might happen in monorepos.",404:"nuqs requires an adapter to work with your framework.",409:"Multiple versions of the library are loaded. This may lead to unexpected behavior. Currently using `%s`, but `%s` (via the %s adapter) was about to load on top.",414:"Max safe URL length exceeded. Some browsers may not be able to accept this URL. Consider limiting the amount of state stored in the URL.",422:"Invalid options combination: `limitUrlUpdates: debounce` should be used in SSR scenarios, with `shallow: false`",429:"URL update rate-limited by the browser. Consider increasing `throttleMs` for key(s) `%s`. %O",500:"Empty search params cache. Search params can't be accessed in Layouts.",501:"Search params cache already populated. Have you called `parse` twice?"};function u(e){return`[nuqs] ${i[e]}
  See https://nuqs.dev/NUQS-${e}`}function l(e){if(0===e.size)return"";let t=[];for(let[r,s]of e.entries()){let e=r.replace(/#/g,"%23").replace(/&/g,"%26").replace(/\+/g,"%2B").replace(/=/g,"%3D").replace(/\?/g,"%3F");t.push(`${e}=${s.replace(/%/g,"%25").replace(/\+/g,"%2B").replace(/ /g,"+").replace(/#/g,"%23").replace(/&/g,"%26").replace(/"/g,"%22").replace(/'/g,"%27").replace(/`/g,"%60").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/[\x00-\x1F]/g,e=>encodeURIComponent(e))}`)}return"?"+t.join("&")}let a=(0,t.createContext)({useAdapter(){throw Error(u(404))}});function o(e){return({children:r,defaultOptions:s,processUrlSearchParams:n,...i})=>(0,t.createElement)(a.Provider,{...i,value:{useAdapter:e,defaultOptions:s,processUrlSearchParams:n}},r)}function c(e){let r=(0,t.useContext)(a);if(!("useAdapter"in r))throw Error(u(404));return r.useAdapter(e)}a.displayName="NuqsAdapterContext",r&&"u">typeof window&&(window.__NuqsAdapterContext&&window.__NuqsAdapterContext!==a&&console.error(u(303)),window.__NuqsAdapterContext=a);let d=()=>(0,t.useContext)(a).defaultOptions,p=()=>(0,t.useContext)(a).processUrlSearchParams;function h(e){return{method:"throttle",timeMs:e}}function f(e){return{method:"debounce",timeMs:e}}e.s(["a",()=>p,"c",()=>s,"i",()=>d,"l",()=>n,"n",()=>o,"o",()=>l,"r",()=>c,"s",()=>u],347036);let m=h(function(){if("u"<typeof window||!window.GestureEvent)return 50;try{let e=navigator.userAgent?.match(/version\/([\d\.]+) safari/i);return parseFloat(e[1])>=17?120:320}catch{return 320}}());function y(e){return null===e||Array.isArray(e)&&0===e.length}function g(e,t,r){if("string"==typeof e)r.set(t,e);else{for(let s of(r.delete(t),e))r.append(t,s);r.has(t)||r.set(t,"")}return r}function v(){let e=new Map;return{on(t,r){let s=e.get(t)||[];return s.push(r),e.set(t,s),()=>this.off(t,r)},off(t,r){let s=e.get(t);s&&e.set(t,s.filter(e=>e!==r))},emit(t,r){e.get(t)?.forEach(e=>e(r))}}}function b(e,t,r){let s=setTimeout(function(){e(),r.removeEventListener("abort",n)},t);function n(){clearTimeout(s),r.removeEventListener("abort",n)}r.addEventListener("abort",n)}function q(){let e=Promise;if(Promise.hasOwnProperty("withResolvers"))return Promise.withResolvers();let t=()=>{},r=()=>{};return{promise:new e((e,s)=>{t=e,r=s}),resolve:t,reject:r}}function O(){return new URLSearchParams(location.search)}var S=class{updateMap=new Map;options={history:"replace",scroll:!1,shallow:!0};timeMs=m.timeMs;transitions=new Set;resolvers=null;controller=null;lastFlushedAt=0;resetQueueOnNextPush=!1;push({key:e,query:t,options:r},n=m.timeMs){this.resetQueueOnNextPush&&(this.reset(),this.resetQueueOnNextPush=!1),s("[nuqs gtq] Enqueueing %s=%s %O",e,t,r),this.updateMap.set(e,t),"push"===r.history&&(this.options.history="push"),r.scroll&&(this.options.scroll=!0),!1===r.shallow&&(this.options.shallow=!1),r.startTransition&&this.transitions.add(r.startTransition),(!Number.isFinite(this.timeMs)||n>this.timeMs)&&(this.timeMs=n)}getQueuedQuery(e){return this.updateMap.get(e)}getPendingPromise({getSearchParamsSnapshot:e=O}){return this.resolvers?.promise??Promise.resolve(e())}flush({getSearchParamsSnapshot:e=O,rateLimitFactor:t=1,...r},n){if(this.controller??=new AbortController,!Number.isFinite(this.timeMs))return s("[nuqs gtq] Skipping flush due to throttleMs=Infinity"),Promise.resolve(e());if(this.resolvers)return this.resolvers.promise;this.resolvers=q();let i=()=>{this.lastFlushedAt=performance.now();let[t,s]=this.applyPendingUpdates({...r,autoResetQueueOnUpdate:r.autoResetQueueOnUpdate??!0,getSearchParamsSnapshot:e},n);null===s?(this.resolvers.resolve(t),this.resetQueueOnNextPush=!0):this.resolvers.reject(t),this.resolvers=null},u=()=>{let e=performance.now()-this.lastFlushedAt,r=this.timeMs,n=t*Math.max(0,r-e);s("[nuqs gtq] Scheduling flush in %f ms. Throttled at %f ms (x%f)",n,r,t),0===n?i():b(i,n,this.controller.signal)};return b(u,0,this.controller.signal),this.resolvers.promise}abort(){return this.controller?.abort(),this.controller=new AbortController,this.resolvers?.resolve(new URLSearchParams),this.resolvers=null,this.reset()}reset(){let e=Array.from(this.updateMap.keys());return s("[nuqs gtq] Resetting queue %s",JSON.stringify(Object.fromEntries(this.updateMap))),this.updateMap.clear(),this.transitions.clear(),this.options={history:"replace",scroll:!1,shallow:!0},this.timeMs=m.timeMs,e}applyPendingUpdates(e,t){let{updateUrl:r,getSearchParamsSnapshot:n}=e,i=n();if(s("[nuqs gtq] Applying %d pending update(s) on top of %s",this.updateMap.size,i.toString()),0===this.updateMap.size)return[i,null];let l=Array.from(this.updateMap.entries()),a={...this.options},o=Array.from(this.transitions);for(let[t,r]of(e.autoResetQueueOnUpdate&&this.reset(),s("[nuqs gtq] Flushing queue %O with options %O",l,a),l))null===r?i.delete(t):i=g(r,t,i);t&&(i=t(i));try{return!function(e,t){let r=t;for(let t=e.length-1;t>=0;t--){let s=e[t];if(!s)continue;let n=r;r=()=>s(n)}r()}(o,()=>{r(i,a)}),[i,null]}catch(e){return console.error(u(429),l.map(([e])=>e).join(),e),[i,e]}}};let w=new S;var x=class{callback;resolvers=q();controller=new AbortController;queuedValue=void 0;constructor(e){this.callback=e}abort(){this.controller.abort(),this.queuedValue=void 0}push(e,t){return this.queuedValue=e,this.controller.abort(),this.controller=new AbortController,b(()=>{let t=this.resolvers;try{s("[nuqs dq] Flushing debounce queue",e);let r=this.callback(e);s("[nuqs dq] Reset debounce queue %O",this.queuedValue),this.queuedValue=void 0,this.resolvers=q(),r.then(e=>t.resolve(e)).catch(e=>t.reject(e))}catch(e){this.queuedValue=void 0,t.reject(e)}},t,this.controller.signal),this.resolvers.promise}};let E=new class{throttleQueue;queues=new Map;queuedQuerySync=v();constructor(e=new S){this.throttleQueue=e}useQueuedQueries(e){var r,s;let n,i;return r=(e,t)=>this.queuedQuerySync.on(e,t),s=e=>this.getQueuedQuery(e),n=(0,t.useCallback)(()=>{let t=Object.fromEntries(e.map(e=>[e,s(e)]));return[JSON.stringify(t),t]},[e.join(","),s]),null===(i=(0,t.useRef)(null)).current&&(i.current=n()),(0,t.useSyncExternalStore)((0,t.useCallback)(t=>{let s=e.map(e=>r(e,t));return()=>s.forEach(e=>e())},[e.join(","),r]),()=>{let[e,t]=n();return i.current[0]===e?i.current[1]:(i.current=[e,t],t)},()=>i.current[1])}push(e,t,r){if(!Number.isFinite(t))return Promise.resolve((r.getSearchParamsSnapshot??O)());let n=e.key;if(!this.queues.has(n)){s("[nuqs dqc] Creating debounce queue for `%s`",n);let e=new x(e=>(this.throttleQueue.push(e),this.throttleQueue.flush(r).finally(()=>{this.queues.get(e.key)?.queuedValue===void 0&&(s("[nuqs dqc] Cleaning up empty queue for `%s`",e.key),this.queues.delete(e.key)),this.queuedQuerySync.emit(e.key)})));this.queues.set(n,e)}s("[nuqs dqc] Enqueueing debounce update %O",e);let i=this.queues.get(n).push(e,t);return this.queuedQuerySync.emit(n),i}abort(e){let t=this.queues.get(e);return t?(s("[nuqs dqc] Aborting debounce queue %s=%s",e,t.queuedValue?.query),this.queues.delete(e),t.abort(),this.queuedQuerySync.emit(e),e=>(e.then(t.resolvers.resolve,t.resolvers.reject),e)):e=>e}abortAll(){for(let[e,t]of this.queues.entries())s("[nuqs dqc] Aborting debounce queue %s=%s",e,t.queuedValue?.query),t.abort(),t.resolvers.resolve(new URLSearchParams),this.queuedQuerySync.emit(e);this.queues.clear()}getQueuedQuery(e){let t=this.queues.get(e)?.queuedValue?.query;return void 0!==t?t:this.throttleQueue.getQueuedQuery(e)}}(w);e.s(["a",()=>g,"c",()=>h,"i",()=>y,"n",()=>w,"o",()=>f,"r",()=>v,"s",()=>m,"t",()=>E],189201)},494766,e=>{"use strict";var t=e.i(189201),r=e.i(347036),s=e.i(184260);function n(e,t,s){try{return e(t)}catch(e){return(0,r.l)("[nuqs] Error while parsing value `%s`: %O"+(s?" (for key `%s`)":""),t,e,s),null}}function i(e){function t(t){if(void 0===t)return null;let r="";if(Array.isArray(t)){if(void 0===t[0])return null;r=t[0]}return"string"==typeof t&&(r=t),n(e.parse,r)}return{type:"single",eq:(e,t)=>e===t,...e,parseServerSide:t,withDefault(e){return{...this,defaultValue:e,parseServerSide:r=>t(r)??e}},withOptions(e){return{...this,...e}}}}let u=i({parse:e=>e,serialize:String}),l=i({parse:e=>{let t=parseInt(e);return t==t?t:null},serialize:e=>""+Math.round(e)});function a(e,t){return e.valueOf()===t.valueOf()}function o(e){return i({parse:t=>e.includes(t)?t:null,serialize:String})}i({parse:e=>{let t=parseInt(e);return t==t?t-1:null},serialize:e=>""+Math.round(e+1)}),i({parse:e=>{let t=parseInt(e,16);return t==t?t:null},serialize:e=>{let t=Math.round(e).toString(16);return(1&t.length?"0":"")+t}}),i({parse:e=>{let t=parseFloat(e);return t==t?t:null},serialize:String}),i({parse:e=>"true"===e.toLowerCase(),serialize:String}),i({parse:e=>{let t=parseInt(e);return t==t?new Date(t):null},serialize:e=>""+e.valueOf(),eq:a}),i({parse:e=>{let t=new Date(e);return t.valueOf()==t.valueOf()?t:null},serialize:e=>e.toISOString(),eq:a}),i({parse:e=>{let t=new Date(e.slice(0,10));return t.valueOf()==t.valueOf()?t:null},serialize:e=>e.toISOString().slice(0,10),eq:a});let c=(0,t.r)(),d={};function p(e,n={}){let i=(0,s.useId)(),u=(0,r.i)(),l=(0,r.a)(),{history:a="replace",scroll:o=u?.scroll??!1,shallow:m=u?.shallow??!0,throttleMs:y=t.s.timeMs,limitUrlUpdates:g=u?.limitUrlUpdates,clearOnDefault:v=u?.clearOnDefault??!0,startTransition:b,urlKeys:q=d}=n,O=Object.keys(e).join(","),S=(0,s.useMemo)(()=>Object.fromEntries(Object.keys(e).map(e=>[e,q[e]??e])),[O,JSON.stringify(q)]),w=(0,r.r)(Object.values(S)),x=w.searchParams,E=(0,s.useRef)({}),j=(0,s.useMemo)(()=>Object.fromEntries(Object.keys(e).map(t=>[t,e[t].defaultValue??null])),[Object.values(e).map(({defaultValue:e})=>e).join(",")]),Q=t.t.useQueuedQueries(Object.values(S)),[M,A]=(0,s.useState)(()=>h(e,q,x??new URLSearchParams,Q).state),k=(0,s.useRef)(M);if((0,r.c)("[nuq+ %s `%s`] render - state: %O, iSP: %s",i,O,M,x),Object.keys(E.current).join("&")!==Object.values(S).join("&")){let{state:t,hasChanged:s}=h(e,q,x,Q,E.current,k.current);s&&((0,r.c)("[nuq+ %s `%s`] State changed: %O",i,O,{state:t,initialSearchParams:x,queuedQueries:Q,queryRef:E.current,stateRef:k.current}),k.current=t,A(t)),E.current=Object.fromEntries(Object.entries(S).map(([t,r])=>[r,e[t]?.type==="multi"?x?.getAll(r):x?.get(r)??null]))}(0,s.useEffect)(()=>{let{state:t,hasChanged:s}=h(e,q,x,Q,E.current,k.current);s&&((0,r.c)("[nuq+ %s `%s`] State changed: %O",i,O,{state:t,initialSearchParams:x,queuedQueries:Q,queryRef:E.current,stateRef:k.current}),k.current=t,A(t))},[Object.values(S).map(e=>`${e}=${x?.getAll(e)}`).join("&"),JSON.stringify(Q)]),(0,s.useEffect)(()=>{let t=Object.keys(e).reduce((t,s)=>(t[s]=({state:t,query:n})=>{A(u=>{let{defaultValue:l}=e[s],a=S[s],o=t??l??null;return Object.is(u[s]??l??null,o)?((0,r.c)("[nuq+ %s `%s`] Cross-hook key sync %s: %O (default: %O). no change, skipping, resolved: %O",i,O,a,t,l,k.current),u):(k.current={...k.current,[s]:o},E.current[a]=n,(0,r.c)("[nuq+ %s `%s`] Cross-hook key sync %s: %O (default: %O). updateInternalState, resolved: %O",i,O,a,t,l,k.current),k.current)})},t),{});for(let s of Object.keys(e)){let e=S[s];(0,r.c)("[nuq+ %s `%s`] Subscribing to sync for `%s`",i,e,O),c.on(e,t[s])}return()=>{for(let s of Object.keys(e)){let e=S[s];(0,r.c)("[nuq+ %s `%s`] Unsubscribing to sync for `%s`",i,e,O),c.off(e,t[s])}}},[O,S]);let R=(0,s.useCallback)((s,n={})=>{let u,d=Object.fromEntries(Object.keys(e).map(e=>[e,null])),p="function"==typeof s?s(f(k.current,j))??d:s??d;(0,r.c)("[nuq+ %s `%s`] setState: %O",i,O,p);let h=0,q=!1,x=[];for(let[s,i]of Object.entries(p)){let l=e[s],d=S[s];if(!l)continue;(n.clearOnDefault??l.clearOnDefault??v)&&null!==i&&void 0!==l.defaultValue&&(l.eq??((e,t)=>e===t))(i,l.defaultValue)&&(i=null);let p=null===i?null:(l.serialize??String)(i);c.emit(d,{state:i,query:p});let f={key:d,query:p,options:{history:n.history??l.history??a,shallow:n.shallow??l.shallow??m,scroll:n.scroll??l.scroll??o,startTransition:n.startTransition??l.startTransition??b}};if(n?.limitUrlUpdates?.method==="debounce"||g?.method==="debounce"||l.limitUrlUpdates?.method==="debounce"){!0===f.options.shallow&&console.warn((0,r.s)(422));let e=n?.limitUrlUpdates?.timeMs??g?.timeMs??l.limitUrlUpdates?.timeMs??t.s.timeMs,s=t.t.push(f,e,w);h<e&&(u=s,h=e)}else{let e=n?.limitUrlUpdates?.timeMs??l?.limitUrlUpdates?.timeMs??g?.timeMs??n.throttleMs??l.throttleMs??y;x.push(t.t.abort(d)),t.n.push(f,e),q=!0}}let E=x.reduce((e,t)=>t(e),q?t.n.flush(w,l):t.n.getPendingPromise(w));return u??E},[O,a,m,o,y,g?.method,g?.timeMs,b,S,w.updateUrl,w.getSearchParamsSnapshot,w.rateLimitFactor,l,j]);return[(0,s.useMemo)(()=>f(M,j),[M,j]),R]}function h(e,r,s,i,u,l){let a=!1,o=Object.entries(e).reduce((e,[o,c])=>{var d;let p=r?.[o]??o,h=i[p],f="multi"===c.type?[]:null,m=void 0===h?("multi"===c.type?s?.getAll(p):s?.get(p))??f:h;return u&&l&&((d=u[p]??f)===m||null!==d&&null!==m&&"string"!=typeof d&&"string"!=typeof m&&d.length===m.length&&d.every((e,t)=>e===m[t]))?e[o]=l[o]??null:(a=!0,e[o]=((0,t.i)(m)?null:n(c.parse,m,p))??null,u&&(u[p]=m)),e},{});if(!a){let t=Object.keys(e),r=Object.keys(l??{});a=t.length!==r.length||t.some(e=>!r.includes(e))}return{state:o,hasChanged:a}}function f(e,t){return Object.fromEntries(Object.keys(e).map(r=>[r,e[r]??t[r]??null]))}function m(e,t={}){let{parse:r,type:n,serialize:i,eq:u,defaultValue:l,...a}=t,[{[e]:o},c]=p({[e]:{parse:r??(e=>e),type:n,serialize:i,eq:u,defaultValue:l}},a);return[o,(0,s.useCallback)((t,r={})=>c(r=>({[e]:"function"==typeof t?t(r[e]):t}),r),[e,c])]}e.s(["parseAsInteger",()=>l,"parseAsString",()=>u,"parseAsStringLiteral",()=>o,"useQueryState",()=>m,"useQueryStates",()=>p],494766)}]);