(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,221656,(t,e,r)=>{"use strict";e.exports=self.fetch.bind(self),e.exports.default=e.exports},491426,786875,609152,574945,46112,290997,259365,67365,t=>{"use strict";var e,r=t.i(444366);function n(){return!(0,r.isBrowser)()||window.navigator.onLine}function i(){return!n()}t.s(["isOffline",()=>i,"isOnline",()=>n],491426);var o=t.i(824627),s=t.i(475583),a=t.i(704825),u=t.i(221656),c=function(){return"u">typeof globalThis?globalThis:"u">typeof self?self:"u">typeof window?window:t.g};t.s(["getGlobal",()=>c],786875);var p=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=c();return(r&&r.fetch||u.default).apply(void 0,t)};t.s(["fetch",()=>p],609152);var l="1.81.1";function f(){return"npm"}t.s(["version",()=>l],574945),t.s(["getVersionType",()=>f],46112);var d="api.segment.io/v1";t.s(["SEGMENT_API_HOST",()=>d],290997);var h=function(t,e,r){var n=e.reduce(function(t,e){var r=e.split(":"),n=r[0],i=r[1];return t[n]=i,t},{});return{type:"Counter",metric:t,value:1,tags:(0,o.__assign)((0,o.__assign)({},n),{library:"analytics.js",library_version:"web"===r?"next-".concat(l):"npm:next-".concat(l)})}};function y(t){console.error("Error sending segment performance metrics",t)}var v=function(){function t(t){var e,r,n,i,o,s=this;if(this.host=null!=(e=null==t?void 0:t.host)?e:d,this.sampleRate=null!=(r=null==t?void 0:t.sampleRate)?r:1,this.flushTimer=null!=(n=null==t?void 0:t.flushTimer)?n:3e4,this.maxQueueSize=null!=(i=null==t?void 0:t.maxQueueSize)?i:20,this.protocol=null!=(o=null==t?void 0:t.protocol)?o:"https",this.queue=[],this.sampleRate>0){var a=!1,u=function(){a||(a=!0,s.flush().catch(y),a=!1,setTimeout(u,s.flushTimer))};u()}}return t.prototype.increment=function(t,e){if(!(!t.includes("analytics_js.")||0===e.length||Math.random()>this.sampleRate)&&!(this.queue.length>=this.maxQueueSize)){var r=h(t,e,f());this.queue.push(r),t.includes("error")&&this.flush().catch(y)}},t.prototype.flush=function(){return(0,o.__awaiter)(this,void 0,void 0,function(){var t=this;return(0,o.__generator)(this,function(e){switch(e.label){case 0:if(this.queue.length<=0)return[2];return[4,this.send().catch(function(e){y(e),t.sampleRate=0})];case 1:return e.sent(),[2]}})})},t.prototype.send=function(){return(0,o.__awaiter)(this,void 0,void 0,function(){var t,e;return(0,o.__generator)(this,function(r){return t={series:this.queue},this.queue=[],e={"Content-Type":"text/plain"},[2,p("".concat(this.protocol,"://").concat(this.host,"/m"),{headers:e,body:JSON.stringify(t),method:"POST"})]})})},t}(),m=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return(0,o.__extends)(r,t),r.initRemoteMetrics=function(t){e=new v(t)},r.prototype.increment=function(r,n,i){t.prototype.increment.call(this,r,n,i),null==e||e.increment(r,null!=i?i:[])},r}(a.CoreStats);t.s(["Stats",()=>m],259365);var g=function(t){function e(e,r){return t.call(this,e,r,new m)||this}return(0,o.__extends)(e,t),e.system=function(){return new this({type:"track",event:"system"})},e}(s.CoreContext);t.s(["Context",()=>g],67365)},141289,329888,40557,t=>{"use strict";var e=t.i(824627),r=function(){function t(t){var e;this.callbacks={},this.warned=!1,this.maxListeners=null!=(e=null==t?void 0:t.maxListeners)?e:10}return t.prototype.warnIfPossibleMemoryLeak=function(t){!this.warned&&this.maxListeners&&this.callbacks[t].length>this.maxListeners&&(console.warn("Event Emitter: Possible memory leak detected; ".concat(String(t)," has exceeded ").concat(this.maxListeners," listeners.")),this.warned=!0)},t.prototype.on=function(t,e){return this.callbacks[t]?(this.callbacks[t].push(e),this.warnIfPossibleMemoryLeak(t)):this.callbacks[t]=[e],this},t.prototype.once=function(t,e){var r=this,n=function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];r.off(t,n),e.apply(r,i)};return this.on(t,n),this},t.prototype.off=function(t,e){var r,n=(null!=(r=this.callbacks[t])?r:[]).filter(function(t){return t!==e});return this.callbacks[t]=n,this},t.prototype.emit=function(t){for(var e,r=this,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];return(null!=(e=this.callbacks[t])?e:[]).forEach(function(t){t.apply(r,n)}),this},t}();t.s(["Emitter",()=>r],329888);var n="onRemoveFromFuture",i=function(t){function r(e,r,n){var i=t.call(this)||this;return i.future=[],i.maxAttempts=e,i.queue=r,i.seen=null!=n?n:{},i}return(0,e.__extends)(r,t),r.prototype.push=function(){for(var t=this,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=e.map(function(e){return!(t.updateAttempts(e)>t.maxAttempts||t.includes(e))&&(t.queue.push(e),!0)});return this.queue=this.queue.sort(function(e,r){return t.getAttempts(e)-t.getAttempts(r)}),n},r.prototype.pushWithBackoff=function(t,e){var r,i,o,s,a,u=this;if(void 0===e&&(e=0),0==e&&0===this.getAttempts(t))return this.push(t)[0];var c=this.updateAttempts(t);if(c>this.maxAttempts||this.includes(t))return!1;var p=(r={attempt:c-1},i=Math.random()+1,o=r.minTimeout,s=r.factor,Math.min(i*(void 0===o?500:o)*Math.pow(void 0===s?2:s,r.attempt),void 0===(a=r.maxTimeout)?1/0:a));return e>0&&p<e&&(p=e),setTimeout(function(){u.queue.push(t),u.future=u.future.filter(function(e){return e.id!==t.id}),u.emit(n)},p),this.future.push(t),!0},r.prototype.getAttempts=function(t){var e;return null!=(e=this.seen[t.id])?e:0},r.prototype.updateAttempts=function(t){return this.seen[t.id]=this.getAttempts(t)+1,this.getAttempts(t)},r.prototype.includes=function(t){return this.queue.includes(t)||this.future.includes(t)||!!this.queue.find(function(e){return e.id===t.id})||!!this.future.find(function(e){return e.id===t.id})},r.prototype.pop=function(){return this.queue.shift()},Object.defineProperty(r.prototype,"length",{get:function(){return this.queue.length},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"todo",{get:function(){return this.queue.length+this.future.length},enumerable:!1,configurable:!0}),r}(r);t.s(["ON_REMOVE_FROM_FUTURE",()=>n,"PriorityQueue",()=>i],40557);var o=t.i(67365),s=t.i(444366),a={getItem:function(){},setItem:function(){},removeItem:function(){}};try{a=(0,s.isBrowser)()&&window.localStorage?window.localStorage:a}catch(t){console.warn("Unable to access localStorage",t)}function u(t){var e=a.getItem(t);return(e?JSON.parse(e):[]).map(function(t){return new o.Context(t.event,t.id)})}function c(t){var e=a.getItem(t);return e?JSON.parse(e):{}}function p(t){a.removeItem(t)}function l(t,e,r){void 0===r&&(r=0);var n="persisted-queue:v1:".concat(t,":lock"),i=a.getItem(n),o=i?JSON.parse(i):null,s=null===o||new Date().getTime()>o;if(s){a.setItem(n,JSON.stringify(new Date().getTime()+50)),e(),a.removeItem(n);return}!s&&r<3?setTimeout(function(){l(t,e,r+1)},50):console.error("Unable to retrieve lock")}var f=function(t){function r(r,n){var i=t.call(this,r,[])||this,o="persisted-queue:v1:".concat(n,":items"),s="persisted-queue:v1:".concat(n,":seen"),f=[],d={};return l(n,function(){try{f=u(o),d=c(s),p(o),p(s),i.queue=(0,e.__spreadArray)((0,e.__spreadArray)([],f,!0),i.queue,!0),i.seen=(0,e.__assign)((0,e.__assign)({},d),i.seen)}catch(t){console.error(t)}}),window.addEventListener("pagehide",function(){if(i.todo>0){var t=(0,e.__spreadArray)((0,e.__spreadArray)([],i.queue,!0),i.future,!0);try{l(n,function(){var r,n,p,l;r=u(o),n=(0,e.__spreadArray)((0,e.__spreadArray)([],t,!0),r,!0).reduce(function(t,r){var n;return(0,e.__assign)((0,e.__assign)({},t),((n={})[r.id]=r,n))},{}),a.setItem(o,JSON.stringify(Object.values(n))),p=i.seen,l=c(s),a.setItem(s,JSON.stringify((0,e.__assign)((0,e.__assign)({},l),p)))})}catch(t){console.error(t)}}}),i}return(0,e.__extends)(r,t),r}(i);t.s(["PersistedPriorityQueue",()=>f],141289)},536223,t=>{"use strict";var e=t.i(824627),r=t.i(475583);function n(t,n){t.log("debug","plugin",{plugin:n.name});var i=new Date().getTime(),o=n[t.event.type];return void 0===o?Promise.resolve(t):(function(t){return(0,e.__awaiter)(this,void 0,void 0,function(){return(0,e.__generator)(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,t()];case 1:return[2,e.sent()];case 2:return[2,Promise.reject(e.sent())];case 3:return[2]}})})})(function(){return o.apply(n,[t])}).then(function(t){var e=new Date().getTime()-i;return t.stats.gauge("plugin_time",e,["plugin:".concat(n.name)]),t}).catch(function(e){if(e instanceof r.ContextCancelation&&"middleware_cancellation"===e.type)throw e;return e instanceof r.ContextCancelation?t.log("warn",e.type,{plugin:n.name,error:e}):(t.log("error","plugin Error",{plugin:n.name,error:e}),t.stats.increment("plugin_error",1,["plugin:".concat(n.name)])),e})}function i(t,e){return n(t,e).then(function(e){if(e instanceof r.CoreContext)return e;t.log("debug","Context canceled"),t.stats.increment("context_canceled"),t.cancel(e)})}t.s(["attempt",()=>n,"ensure",()=>i])},276533,t=>{"use strict";var e=t.i(824627),r=function(t,r){return(0,e.__awaiter)(void 0,void 0,void 0,function(){var n;return(0,e.__generator)(this,function(i){return[2,(n=function(i){return(0,e.__awaiter)(void 0,void 0,void 0,function(){var o;return(0,e.__generator)(this,function(e){switch(e.label){case 0:if(!t(i))return[3,2];return o=n,[4,r()];case 1:return[2,o.apply(void 0,[e.sent()])];case 2:return[2]}})})})(void 0)]})})};t.s(["pWhile",()=>r])},802402,t=>{"use strict";var e=t.i(824627);function r(t,r){var n,i=Object.entries(null!=(n=r.integrations)?n:{}).reduce(function(t,r){var n,i,o=r[0],s=r[1];return"object"==typeof s?(0,e.__assign)((0,e.__assign)({},t),((n={})[o]=s,n)):(0,e.__assign)((0,e.__assign)({},t),((i={})[o]={},i))},{});return Object.entries(t.integrations).reduce(function(t,r){var n,o=r[0],s=r[1];return(0,e.__assign)((0,e.__assign)({},t),((n={})[o]=(0,e.__assign)((0,e.__assign)({},s),i[o]),n))},{})}t.s(["mergedOptions",()=>r])},522927,t=>{"use strict";var e=function(){var t,e,r=!1,n=new Promise(function(n,i){t=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];r=!0,n.apply(void 0,t)},e=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];r=!0,i.apply(void 0,t)}});return{resolve:t,reject:e,promise:n,isSettled:function(){return r}}};t.s(["createDeferred",()=>e])},768222,t=>{"use strict";function e(t,e){var r=e.methodName,n=e.integrationName,i=e.type,o=e.didError;t.stats.increment("analytics_js.integration.invoke".concat(void 0!==o&&o?".error":""),1,["method:".concat(r),"integration_name:".concat(n),"type:".concat(i)])}t.s(["recordIntegrationMetric",()=>e])},504193,(t,e,r)=>{function n(t){return function(e,r,n,i){var o,a=i&&"function"==typeof i.normalizer?i.normalizer:s;r=a(r);for(var u=!1;!u;)!function(){for(o in e){var t=a(o);if(0===r.indexOf(t)){var n=r.substr(t.length);if("."===n.charAt(0)||0===n.length){r=n.substr(1);var i=e[o];if(null==i||!r.length){u=!0;return}e=i;return}}}o=void 0,u=!0}();if(o)return null==e?e:t(e,o,n)}}function i(t,e){return t.hasOwnProperty(e)&&delete t[e],t}function o(t,e,r){return t.hasOwnProperty(e)&&(t[e]=r),t}function s(t){return t.replace(/[^a-zA-Z0-9\.]+/g,"").toLowerCase()}e.exports=n(function(t,e){if(t.hasOwnProperty(e))return t[e]}),e.exports.find=e.exports,e.exports.replace=function(t,e,r,i){return n(o).call(this,t,e,r,i),t},e.exports.del=function(t,e,r){return n(i).call(this,t,e,null,r),t}},142297,(t,e,r)=>{"use strict";var n=t.e&&t.e.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0});var i=n(t.r(504193));function o(t,e){return function(){var r=this.traits(),n=this.properties?this.properties():{};return i.default(r,"address."+t)||i.default(r,t)||(e?i.default(r,"address."+e):null)||(e?i.default(r,e):null)||i.default(n,"address."+t)||i.default(n,t)||(e?i.default(n,"address."+e):null)||(e?i.default(n,e):null)}}r.default=function(t){t.zip=o("postalCode","zip"),t.country=o("country"),t.street=o("street"),t.state=o("state"),t.city=o("city"),t.region=o("region")}},975652,(t,e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.clone=void 0,r.clone=function t(e){if("object"!=typeof e)return e;if("[object Object]"===Object.prototype.toString.call(e)){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=t(e[n]));return r}return Array.isArray(e)?e.map(t):e}},210397,(t,e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={Salesforce:!0};r.default=function(t){return!n[t]}},681610,(t,e,r)=>{"use strict";var n=/^(\d{4})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:([ T])(\d{2}):?(\d{2})(?::?(\d{2})(?:[,\.](\d{1,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?)?)?$/;r.parse=function(t){var e=[1,5,6,7,11,12],r=n.exec(t),i=0;if(!r)return new Date(t);for(var o,s=0;o=e[s];s++)r[o]=parseInt(r[o],10)||0;return r[2]=parseInt(r[2],10)||1,r[3]=parseInt(r[3],10)||1,r[2]--,r[8]=r[8]?(r[8]+"00").substring(0,3):0," "===r[4]?i=new Date().getTimezoneOffset():"Z"!==r[9]&&r[10]&&(i=60*r[11]+r[12],"+"===r[10]&&(i=0-i)),new Date(Date.UTC(r[1],r[2],r[3],r[5],r[6]+i,r[7],r[8]))},r.is=function(t,e){return"string"==typeof t&&(!e||!1!==/^\d{4}-\d{2}-\d{2}/.test(t))&&n.test(t)}},832649,(t,e,r)=>{"use strict";var n=/\d{13}/;r.is=function(t){return n.test(t)},r.parse=function(t){return new Date(t=parseInt(t,10))}},211332,(t,e,r)=>{"use strict";var n=/\d{10}/;r.is=function(t){return n.test(t)},r.parse=function(t){return new Date(1e3*parseInt(t,10))}},618989,(t,e,r)=>{"use strict";var n=t.r(681610),i=t.r(832649),o=t.r(211332),s=Object.prototype.toString;e.exports=function(t){var e;if("[object Date]"===s.call(t))return t;return"[object Number]"===s.call(t)?new Date((e=t)<315576e5?1e3*e:e):n.is(t)?n.parse(t):i.is(t)?i.parse(t):o.is(t)?o.parse(t):new Date(t)}},496660,(t,e,r)=>{"use strict";var n=t.r(681610);e.exports=function t(e,r){var i,o,s,a;if(void 0===r&&(r=!0),e&&"object"==typeof e){return i=e,o=r,Object.keys(i).forEach(function(e){i[e]=t(i[e],o)}),i}if(Array.isArray(e)){return s=e,a=r,s.forEach(function(e,r){s[r]=t(e,a)}),s}return n.is(e,r)?n.parse(e):e}},407973,(t,e,r)=>{"use strict";var n=t.e&&t.e.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.Facade=void 0;var i=n(t.r(142297)),o=t.r(975652),s=n(t.r(210397)),a=n(t.r(618989)),u=n(t.r(504193)),c=n(t.r(496660));function p(t,e){e=e||{},this.raw=o.clone(t),"clone"in e||(e.clone=!0),e.clone&&(t=o.clone(t)),"traverse"in e||(e.traverse=!0),"timestamp"in t?t.timestamp=a.default(t.timestamp):t.timestamp=new Date,e.traverse&&c.default(t),this.opts=e,this.obj=t}r.Facade=p;var l=p.prototype;function f(t){return o.clone(t)}l.proxy=function(t){var e=t.split("."),r=this[t=e.shift()]||this.obj[t];return r?("function"==typeof r&&(r=r.call(this)||{}),0===e.length||(r=u.default(r,e.join("."))),this.opts.clone?f(r):r):r},l.field=function(t){var e=this.obj[t];return this.opts.clone?f(e):e},p.proxy=function(t){return function(){return this.proxy(t)}},p.field=function(t){return function(){return this.field(t)}},p.multi=function(t){return function(){var e=this.proxy(t+"s");if(Array.isArray(e))return e;var r=this.proxy(t);return r&&(r=[this.opts.clone?o.clone(r):r]),r||[]}},p.one=function(t){return function(){var e=this.proxy(t);if(e)return e;var r=this.proxy(t+"s");if(Array.isArray(r))return r[0]}},l.json=function(){var t=this.opts.clone?o.clone(this.obj):this.obj;return this.type&&(t.type=this.type()),t},l.rawEvent=function(){return this.raw},l.options=function(t){var e=this.obj.options||this.obj.context||{},r=this.opts.clone?o.clone(e):e;if(!t)return r;if(this.enabled(t)){var n=this.integrations(),i=n[t]||u.default(n,t);return"object"!=typeof i&&(i=u.default(this.options(),t)),"object"==typeof i?i:{}}},l.context=l.options,l.enabled=function(t){var e=this.proxy("options.providers.all");"boolean"!=typeof e&&(e=this.proxy("options.all")),"boolean"!=typeof e&&(e=this.proxy("integrations.all")),"boolean"!=typeof e&&(e=!0);var r=e&&s.default(t),n=this.integrations();if(n.providers&&n.providers.hasOwnProperty(t)&&(r=n.providers[t]),n.hasOwnProperty(t)){var i=n[t];r="boolean"!=typeof i||i}return!!r},l.integrations=function(){return this.obj.integrations||this.proxy("options.providers")||this.options()},l.active=function(){var t=this.proxy("options.active");return null==t&&(t=!0),t},l.anonymousId=function(){return this.field("anonymousId")||this.field("sessionId")},l.sessionId=l.anonymousId,l.groupId=p.proxy("options.groupId"),l.traits=function(t){var e=this.proxy("options.traits")||{},r=this.userId();for(var n in t=t||{},r&&(e.id=r),t)if(Object.prototype.hasOwnProperty.call(t,n)){var i=null==this[n]?this.proxy("options.traits."+n):this[n]();if(null==i)continue;e[t[n]]=i,delete e[n]}return e},l.library=function(){var t=this.proxy("options.library");return t?"string"==typeof t?{name:t,version:null}:t:{name:"unknown",version:null}},l.device=function(){var t=this.proxy("context.device");("object"!=typeof t||null===t)&&(t={});var e=this.library().name;return t.type||(e.indexOf("ios")>-1&&(t.type="ios"),e.indexOf("android")>-1&&(t.type="android")),t},l.userAgent=p.proxy("context.userAgent"),l.timezone=p.proxy("context.timezone"),l.timestamp=p.field("timestamp"),l.channel=p.field("channel"),l.ip=p.proxy("context.ip"),l.userId=p.field("userId"),i.default(l)},144646,(t,e,r)=>{"function"==typeof Object.create?e.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}}},349989,(t,e,r)=>{"use strict";var n=t.e&&t.e.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.Alias=void 0;var i=n(t.r(144646)),o=t.r(407973);function s(t,e){o.Facade.call(this,t,e)}r.Alias=s,i.default(s,o.Facade),s.prototype.action=function(){return"alias"},s.prototype.type=s.prototype.action,s.prototype.previousId=function(){return this.field("previousId")||this.field("from")},s.prototype.from=s.prototype.previousId,s.prototype.userId=function(){return this.field("userId")||this.field("to")},s.prototype.to=s.prototype.userId},286904,(t,e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=/.+\@.+\..+/;r.default=function(t){return n.test(t)}},925973,(t,e,r)=>{"use strict";var n=t.e&&t.e.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.Group=void 0;var i=n(t.r(144646)),o=n(t.r(286904)),s=n(t.r(618989)),a=t.r(407973);function u(t,e){a.Facade.call(this,t,e)}r.Group=u,i.default(u,a.Facade);var c=u.prototype;c.action=function(){return"group"},c.type=c.action,c.groupId=a.Facade.field("groupId"),c.created=function(){var t=this.proxy("traits.createdAt")||this.proxy("traits.created")||this.proxy("properties.createdAt")||this.proxy("properties.created");if(t)return s.default(t)},c.email=function(){var t=this.proxy("traits.email");if(t)return t;var e=this.groupId();if(o.default(e))return e},c.traits=function(t){var e=this.properties(),r=this.groupId();for(var n in t=t||{},r&&(e.id=r),t)if(Object.prototype.hasOwnProperty.call(t,n)){var i=null==this[n]?this.proxy("traits."+n):this[n]();if(null==i)continue;e[t[n]]=i,delete e[n]}return e},c.name=a.Facade.proxy("traits.name"),c.industry=a.Facade.proxy("traits.industry"),c.employees=a.Facade.proxy("traits.employees"),c.properties=function(){return this.field("traits")||this.field("properties")||{}}},650543,(t,e,r)=>{"use strict";var n=t.e&&t.e.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.Identify=void 0;var i=t.r(407973),o=n(t.r(504193)),s=n(t.r(144646)),a=n(t.r(286904)),u=n(t.r(618989)),c=function(t){return t.trim()};function p(t,e){i.Facade.call(this,t,e)}r.Identify=p,s.default(p,i.Facade);var l=p.prototype;l.action=function(){return"identify"},l.type=l.action,l.traits=function(t){var e=this.field("traits")||{},r=this.userId();for(var n in t=t||{},r&&(e.id=r),t){var i=null==this[n]?this.proxy("traits."+n):this[n]();null!=i&&(e[t[n]]=i,n!==t[n]&&delete e[n])}return e},l.email=function(){var t=this.proxy("traits.email");if(t)return t;var e=this.userId();if(a.default(e))return e},l.created=function(){var t=this.proxy("traits.created")||this.proxy("traits.createdAt");if(t)return u.default(t)},l.companyCreated=function(){var t=this.proxy("traits.company.created")||this.proxy("traits.company.createdAt");if(t)return u.default(t)},l.companyName=function(){return this.proxy("traits.company.name")},l.name=function(){var t=this.proxy("traits.name");if("string"==typeof t)return c(t);var e=this.firstName(),r=this.lastName();if(e&&r)return c(e+" "+r)},l.firstName=function(){var t=this.proxy("traits.firstName");if("string"==typeof t)return c(t);var e=this.proxy("traits.name");if("string"==typeof e)return c(e).split(" ")[0]},l.lastName=function(){var t=this.proxy("traits.lastName");if("string"==typeof t)return c(t);var e=this.proxy("traits.name");if("string"==typeof e){var r=c(e).indexOf(" ");if(-1!==r)return c(e.substr(r+1))}},l.uid=function(){return this.userId()||this.username()||this.email()},l.description=function(){return this.proxy("traits.description")||this.proxy("traits.background")},l.age=function(){var t=this.birthday(),e=o.default(this.traits(),"age");return null!=e?e:t instanceof Date?new Date().getFullYear()-t.getFullYear():void 0},l.avatar=function(){var t=this.traits();return o.default(t,"avatar")||o.default(t,"photoUrl")||o.default(t,"avatarUrl")},l.position=function(){var t=this.traits();return o.default(t,"position")||o.default(t,"jobTitle")},l.username=i.Facade.proxy("traits.username"),l.website=i.Facade.one("traits.website"),l.websites=i.Facade.multi("traits.website"),l.phone=i.Facade.one("traits.phone"),l.phones=i.Facade.multi("traits.phone"),l.address=i.Facade.proxy("traits.address"),l.gender=i.Facade.proxy("traits.gender"),l.birthday=i.Facade.proxy("traits.birthday")},376159,(t,e,r)=>{"use strict";var n=t.e&&t.e.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.Track=void 0;var i=n(t.r(144646)),o=t.r(407973),s=t.r(650543),a=n(t.r(286904)),u=n(t.r(504193));function c(t,e){o.Facade.call(this,t,e)}r.Track=c,i.default(c,o.Facade);var p=c.prototype;p.action=function(){return"track"},p.type=p.action,p.event=o.Facade.field("event"),p.value=o.Facade.proxy("properties.value"),p.category=o.Facade.proxy("properties.category"),p.id=o.Facade.proxy("properties.id"),p.productId=function(){return this.proxy("properties.product_id")||this.proxy("properties.productId")},p.promotionId=function(){return this.proxy("properties.promotion_id")||this.proxy("properties.promotionId")},p.cartId=function(){return this.proxy("properties.cart_id")||this.proxy("properties.cartId")},p.checkoutId=function(){return this.proxy("properties.checkout_id")||this.proxy("properties.checkoutId")},p.paymentId=function(){return this.proxy("properties.payment_id")||this.proxy("properties.paymentId")},p.couponId=function(){return this.proxy("properties.coupon_id")||this.proxy("properties.couponId")},p.wishlistId=function(){return this.proxy("properties.wishlist_id")||this.proxy("properties.wishlistId")},p.reviewId=function(){return this.proxy("properties.review_id")||this.proxy("properties.reviewId")},p.orderId=function(){return this.proxy("properties.id")||this.proxy("properties.order_id")||this.proxy("properties.orderId")},p.sku=o.Facade.proxy("properties.sku"),p.tax=o.Facade.proxy("properties.tax"),p.name=o.Facade.proxy("properties.name"),p.price=o.Facade.proxy("properties.price"),p.total=o.Facade.proxy("properties.total"),p.repeat=o.Facade.proxy("properties.repeat"),p.coupon=o.Facade.proxy("properties.coupon"),p.shipping=o.Facade.proxy("properties.shipping"),p.discount=o.Facade.proxy("properties.discount"),p.shippingMethod=function(){return this.proxy("properties.shipping_method")||this.proxy("properties.shippingMethod")},p.paymentMethod=function(){return this.proxy("properties.payment_method")||this.proxy("properties.paymentMethod")},p.description=o.Facade.proxy("properties.description"),p.plan=o.Facade.proxy("properties.plan"),p.subtotal=function(){var t=u.default(this.properties(),"subtotal"),e=this.total()||this.revenue();if(t)return t;if(!e)return 0;if(this.total()){var r=this.tax();r&&(e-=r),(r=this.shipping())&&(e-=r),(r=this.discount())&&(e+=r)}return e},p.products=function(){var t=this.properties(),e=u.default(t,"products");return Array.isArray(e)?e.filter(function(t){return null!==t}):[]},p.quantity=function(){return(this.obj.properties||{}).quantity||1},p.currency=function(){return(this.obj.properties||{}).currency||"USD"},p.referrer=function(){return this.proxy("context.referrer.url")||this.proxy("context.page.referrer")||this.proxy("properties.referrer")},p.query=o.Facade.proxy("options.query"),p.properties=function(t){var e=this.field("properties")||{};for(var r in t=t||{})if(Object.prototype.hasOwnProperty.call(t,r)){var n=null==this[r]?this.proxy("properties."+r):this[r]();if(null==n)continue;e[t[r]]=n,delete e[r]}return e},p.username=function(){return this.proxy("traits.username")||this.proxy("properties.username")||this.userId()||this.sessionId()},p.email=function(){var t=this.proxy("traits.email")||this.proxy("properties.email")||this.proxy("options.traits.email");if(t)return t;var e=this.userId();if(a.default(e))return e},p.revenue=function(){var t=this.proxy("properties.revenue"),e=this.event();return!t&&e&&e.match(/^[ _]?completed[ _]?order[ _]?|^[ _]?order[ _]?completed[ _]?$/i)&&(t=this.proxy("properties.total")),function(t){if(t&&("number"==typeof t||"string"==typeof t&&!isNaN(t=parseFloat(t=t.replace(/\$/g,"")))))return t}(t)},p.cents=function(){var t=this.revenue();return"number"!=typeof t?this.value()||0:100*t},p.identify=function(){var t=this.json();return t.traits=this.traits(),new s.Identify(t,this.opts)}},927822,(t,e,r)=>{"use strict";var n=t.e&&t.e.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.Page=void 0;var i=n(t.r(144646)),o=t.r(407973),s=t.r(376159),a=n(t.r(286904));function u(t,e){o.Facade.call(this,t,e)}r.Page=u,i.default(u,o.Facade);var c=u.prototype;c.action=function(){return"page"},c.type=c.action,c.category=o.Facade.field("category"),c.name=o.Facade.field("name"),c.title=o.Facade.proxy("properties.title"),c.path=o.Facade.proxy("properties.path"),c.url=o.Facade.proxy("properties.url"),c.referrer=function(){return this.proxy("context.referrer.url")||this.proxy("context.page.referrer")||this.proxy("properties.referrer")},c.properties=function(t){var e=this.field("properties")||{},r=this.category(),n=this.name();for(var i in t=t||{},r&&(e.category=r),n&&(e.name=n),t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=null==this[i]?this.proxy("properties."+i):this[i]();if(null==o)continue;e[t[i]]=o,i!==t[i]&&delete e[i]}return e},c.email=function(){var t=this.proxy("context.traits.email")||this.proxy("properties.email");if(t)return t;var e=this.userId();if(a.default(e))return e},c.fullName=function(){var t=this.category(),e=this.name();return e&&t?t+" "+e:e},c.event=function(t){return t?"Viewed "+t+" Page":"Loaded a Page"},c.track=function(t){var e=this.json();return e.event=this.event(t),e.timestamp=this.timestamp(),e.properties=this.properties(),new s.Track(e,this.opts)}},106656,(t,e,r)=>{"use strict";var n=t.e&&t.e.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.Screen=void 0;var i=n(t.r(144646)),o=t.r(927822),s=t.r(376159);function a(t,e){o.Page.call(this,t,e)}r.Screen=a,i.default(a,o.Page),a.prototype.action=function(){return"screen"},a.prototype.type=a.prototype.action,a.prototype.event=function(t){return t?"Viewed "+t+" Screen":"Loaded a Screen"},a.prototype.track=function(t){var e=this.json();return e.event=this.event(t),e.timestamp=this.timestamp(),e.properties=this.properties(),new s.Track(e,this.opts)}},766725,(t,e,r)=>{"use strict";var n=t.e&&t.e.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.Delete=void 0;var i=n(t.r(144646)),o=t.r(407973);function s(t,e){o.Facade.call(this,t,e)}r.Delete=s,i.default(s,o.Facade),s.prototype.type=function(){return"delete"}},616923,(t,e,r)=>{"use strict";var n=t.e&&t.e.__assign||function(){return(n=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(r,"__esModule",{value:!0}),r.Delete=r.Screen=r.Page=r.Track=r.Identify=r.Group=r.Alias=r.Facade=void 0;var i=t.r(407973);Object.defineProperty(r,"Facade",{enumerable:!0,get:function(){return i.Facade}});var o=t.r(349989);Object.defineProperty(r,"Alias",{enumerable:!0,get:function(){return o.Alias}});var s=t.r(925973);Object.defineProperty(r,"Group",{enumerable:!0,get:function(){return s.Group}});var a=t.r(650543);Object.defineProperty(r,"Identify",{enumerable:!0,get:function(){return a.Identify}});var u=t.r(376159);Object.defineProperty(r,"Track",{enumerable:!0,get:function(){return u.Track}});var c=t.r(927822);Object.defineProperty(r,"Page",{enumerable:!0,get:function(){return c.Page}});var p=t.r(106656);Object.defineProperty(r,"Screen",{enumerable:!0,get:function(){return p.Screen}});var l=t.r(766725);Object.defineProperty(r,"Delete",{enumerable:!0,get:function(){return l.Delete}}),r.default=n(n({},i.Facade),{Alias:o.Alias,Group:s.Group,Identify:a.Identify,Track:u.Track,Page:c.Page,Screen:p.Screen,Delete:l.Delete})},77923,808982,163007,704825,475583,936176,t=>{"use strict";for(var e,r=t.i(824627),n=256,i=[];n--;)i[n]=(n+256).toString(16).substring(1);function o(){var t,r=0,o="";if(!e||n+16>256){for(e=Array(r=256);r--;)e[r]=256*Math.random()|0;r=n=0}for(;r<16;r++)t=e[n+r],6==r?o+=i[15&t|64]:8==r?o+=i[63&t|128]:o+=i[t],1&r&&r>1&&r<11&&(o+="-");return n++,o}function s(t,e,r){e.split&&(e=e.split("."));for(var n,i,o=0,s=e.length,a=t;o<s&&"__proto__"!=(i=""+e[o++])&&"constructor"!==i&&"prototype"!==i;)a=a[i]=o===s?r:typeof(n=a[i])==typeof e?n:0*e[o]!=0||~(""+e[o]).indexOf(".")?{}:[]}t.s(["v4",()=>o],808982),t.s(["dset",()=>s],163007);var a=function(){function t(){this._logs=[]}return t.prototype.log=function(t,e,r){var n=new Date;this._logs.push({level:t,message:e,time:n,extras:r})},Object.defineProperty(t.prototype,"logs",{get:function(){return this._logs},enumerable:!1,configurable:!0}),t.prototype.flush=function(){if(this.logs.length>1){var t=this._logs.reduce(function(t,e){var n,i,o,s=(0,r.__assign)((0,r.__assign)({},e),{json:JSON.stringify(e.extras,null," "),extras:e.extras});delete s.time;var a=null!=(o=null==(i=e.time)?void 0:i.toISOString())?o:"";return t[a]&&(a="".concat(a,"-").concat(Math.random())),(0,r.__assign)((0,r.__assign)({},t),((n={})[a]=s,n))},{});console.table?console.table(t):console.log(t)}else this.logs.forEach(function(t){var e=t.level,r=t.message,n=t.extras;"info"===e||"debug"===e?console.log(r,null!=n?n:""):console[e](r,null!=n?n:"")});this._logs=[]},t}(),u=function(){function t(){this.metrics=[]}return t.prototype.increment=function(t,e,r){void 0===e&&(e=1),this.metrics.push({metric:t,value:e,tags:null!=r?r:[],type:"counter",timestamp:Date.now()})},t.prototype.gauge=function(t,e,r){this.metrics.push({metric:t,value:e,tags:null!=r?r:[],type:"gauge",timestamp:Date.now()})},t.prototype.flush=function(){var t=this.metrics.map(function(t){return(0,r.__assign)((0,r.__assign)({},t),{tags:t.tags.join(",")})});console.table?console.table(t):console.log(t),this.metrics=[]},t.prototype.serialize=function(){return this.metrics.map(function(t){return{m:t.metric,v:t.value,t:t.tags,k:({gauge:"g",counter:"c"})[t.type],e:t.timestamp}})},t}(),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,r.__extends)(e,t),e.prototype.gauge=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype.increment=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype.flush=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype.serialize=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return[]},e}(u);t.s(["CoreStats",()=>u,"NullStats",()=>c],704825);var p=function(t){var e,r,n;this.retry=null==(e=t.retry)||e,this.type=null!=(r=t.type)?r:"plugin Error",this.reason=null!=(n=t.reason)?n:""},l=function(){function t(t,e,r,n){void 0===e&&(e=o()),void 0===r&&(r=new c),void 0===n&&(n=new a),this.attempts=0,this.event=t,this._id=e,this.logger=n,this.stats=r}return t.system=function(){},t.prototype.isSame=function(t){return t.id===this.id},t.prototype.cancel=function(t){if(t)throw t;throw new p({reason:"Context Cancel"})},t.prototype.log=function(t,e,r){this.logger.log(t,e,r)},Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),t.prototype.updateEvent=function(t,e){var r;if("integrations"===t.split(".")[0]){var n=t.split(".")[1];if((null==(r=this.event.integrations)?void 0:r[n])===!1)return this.event}return s(this.event,t,e),this.event},t.prototype.failedDelivery=function(){return this._failedDelivery},t.prototype.setFailedDelivery=function(t){this._failedDelivery=t},t.prototype.logs=function(){return this.logger.logs},t.prototype.flush=function(){this.logger.flush(),this.stats.flush()},t.prototype.toJSON=function(){return{id:this._id,event:this.event,logs:this.logger.logs,metrics:this.stats.metrics}},t}();t.s(["ContextCancelation",()=>p,"CoreContext",()=>l],475583);var f=t.i(616923);function d(t,e){var r=new f.Facade(t,e);return"track"===t.type&&(r=new f.Track(t,e)),"identify"===t.type&&(r=new f.Identify(t,e)),"page"===t.type&&(r=new f.Page(t,e)),"alias"===t.type&&(r=new f.Alias(t,e)),"group"===t.type&&(r=new f.Group(t,e)),"screen"===t.type&&(r=new f.Screen(t,e)),Object.defineProperty(r,"obj",{value:t,writable:!0}),r}function h(t,e,n){return(0,r.__awaiter)(this,void 0,void 0,function(){var i,o,s,a,u;return(0,r.__generator)(this,function(c){switch(c.label){case 0:i=d(e,{clone:!0,traverse:!1}).rawEvent(),o=0,s=n,c.label=1;case 1:if(!(o<s.length))return[3,4];return a=s[o],[4,function(e,n){return(0,r.__awaiter)(this,void 0,void 0,function(){var i,o,s;return(0,r.__generator)(this,function(a){switch(a.label){case 0:return i=!1,o=null,[4,n({payload:d(e,{clone:!0,traverse:!1}),integration:t,next:function(t){i=!0,null===t&&(o=null),t&&(o=t.obj)}})];case 1:return a.sent(),i||null===o||(o.integrations=(0,r.__assign)((0,r.__assign)({},e.integrations),((s={})[t]=!1,s))),[2,o]}})})}(i,a)];case 2:if(null===(u=c.sent()))return[2,null];i=u,c.label=3;case 3:return o++,[3,1];case 4:return[2,i]}})})}function y(t,e){function n(n){return(0,r.__awaiter)(this,void 0,void 0,function(){var i;return(0,r.__generator)(this,function(r){switch(r.label){case 0:return i=!1,[4,t({payload:d(n.event,{clone:!0,traverse:!1}),integrations:null!=e?e:{},next:function(t){i=!0,t&&(n.event=t.obj)}})];case 1:if(r.sent(),!i)throw new p({retry:!1,type:"middleware_cancellation",reason:"Middleware `next` function skipped"});return[2,n]}})})}return{name:"Source Middleware ".concat(t.name),type:"before",version:"0.1.0",isLoaded:function(){return!0},load:function(t){return Promise.resolve(t)},track:n,page:n,screen:n,identify:n,alias:n,group:n}}t.s(["toFacade",()=>d],936176),t.s(["applyDestinationMiddleware",()=>h,"sourceMiddlewarePlugin",()=>y],77923)},382591,t=>{"use strict";function e(t){return"string"==typeof t}function r(t){return"number"==typeof t}function n(t){return"function"==typeof t}function i(t){return null!=t}function o(t){return"object"===Object.prototype.toString.call(t).slice(8,-1).toLowerCase()}t.s(["exists",()=>i,"isFunction",()=>n,"isNumber",()=>r,"isPlainObject",()=>o,"isString",()=>e])},713353,110037,t=>{"use strict";var e,r="analytics";function n(){return window[r]}function i(t){r=t}function o(t){window[r]=t}t.s(["getGlobalAnalytics",()=>n,"setGlobalAnalytics",()=>o,"setGlobalAnalyticsKey",()=>i],110037);var s=/(https:\/\/.*)\/analytics\.js\/v1\/(?:.*?)\/(?:platform|analytics.*)?/,a=function(){var t;return Array.prototype.slice.call(document.querySelectorAll("script")).forEach(function(e){var r,n=null!=(r=e.getAttribute("src"))?r:"",i=s.exec(n);i&&i[1]&&(t=i[1])}),t},u=function(){var t;return null!=e?e:null==(t=n())?void 0:t._cdn},c=function(t){var r=n();r&&(r._cdn=t),e=t},p=function(){var t=u();if(t)return t;var e=a();return e||"https://cdn.segment.com"},l=function(){var t=p();return"".concat(t,"/next-integrations")};t.s(["getCDN",()=>p,"getNextIntegrationsURL",()=>l,"setGlobalCDNUrl",()=>c],713353)},444366,t=>{"use strict";function e(){return"u">typeof window}function r(){return!e()}t.s(["isBrowser",()=>e,"isServer",()=>r])},774230,t=>{"use strict";function e(t){return Array.prototype.slice.call(window.document.querySelectorAll("script")).find(function(e){return e.src===t})}function r(t,r){var n=e(t);if(void 0!==n){var i=null==n?void 0:n.getAttribute("status");if("loaded"===i)return Promise.resolve(n);if("loading"===i)return new Promise(function(t,e){n.addEventListener("load",function(){return t(n)}),n.addEventListener("error",function(t){return e(t)})})}return new Promise(function(e,n){var i,o=window.document.createElement("script");o.type="text/javascript",o.src=t,o.async=!0,o.setAttribute("status","loading");for(var s=0,a=Object.entries(null!=r?r:{});s<a.length;s++){var u=a[s],c=u[0],p=u[1];o.setAttribute(c,p)}o.onload=function(){o.onerror=o.onload=null,o.setAttribute("status","loaded"),e(o)},o.onerror=function(){o.onerror=o.onload=null,o.setAttribute("status","error"),n(Error("Failed to load ".concat(t)))};var l=window.document.querySelector("script");l?null==(i=l.parentElement)||i.insertBefore(o,l):window.document.head.appendChild(o)})}function n(t){var r=e(t);return void 0!==r&&r.remove(),Promise.resolve()}t.s(["loadScript",()=>r,"unloadScript",()=>n])}]);